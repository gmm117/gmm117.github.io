---
layout: post
title: react
date: 2020-05-30 00:00:00 +0200
published: 2020-05-30 00:00:00 +0200
categories: development
tags: ['styled Component']
comments: true,
github: "https://github.com/gmm117/gmm117.github.io"
---

<pre>
    Syled Components
</pre>
<!--more-->

---

## useState, useReducer, useContext 비교
### 숫자를 +1,-1 증감시키는 간단한 예제로 비교
{% highlight javascript %}
// useState
/* useState hook을 이용하여서 state를 input에 바인딩하고 구조분해할당을 통해서 받은 set함수를 통해서 각 버튼의 클릭이벤트에 연결해서 counter값을 증감한다.  */
import React, { useState } from 'react';

function Counter() {
    let [count, setCount] = useState(0);

    const increase = () => {
        setCount(prev => prev + 1);
    }

    const decrease = () => {
        setCount(prev => prev - 1);
    }

    return (
        <>
            <input value={count} />
            <button onClick={increase}>+</button>
            <button onClick={decrease}>-</button>
        </>
    );
}

export default Counter;

{% endhighlight %}

{% highlight javascript %}
// useReducer
/* useReducer hook을 이용하여서 reducer에서 상태와 action의 타입을 통해서 state값을 세팅관리한다. 사용하는 로직에서는 useReducer에서 구조분해할당 함수인 dispatch를 호출해서 리듀서를 호출해서 상태를 변경하도록 한다.  */
import React, { useReducer } from 'react';

function reducer(state, action) {

    switch(action.type) {
        case 'INCREASE':
            return state + 1;
        case 'DECREASE':
            return state - 1;
        default:
            return state;
    }

    return null;
}

function Counter() {
    let [count, dispatch] = useReducer(reducer, 0);

    return (
        <>
            <input value={count} />
            <button onClick={() => dispatch({type : 'INCREASE'})}>+</button>
            <button onClick={() => dispatch({type : 'DECREASE'})}>-</button>
        </>
    );
}

export default Counter;
{% endhighlight %}

{% highlight javascript %}
// createContext, useContext
/* Counter 부모컴포넌트에서 dispatch를 context를 통해서  ChildCounter에 전달하고 자식은 부모에 전달받은 context를 useContext hook을 통해서 받아서 dispatch를 호출함.*/

import React, { useReducer, useContext, createContext } from 'react';

const CounterDispatch = createContext();

function reducer(state, action) {

    switch(action.type) {
        case 'INCREASE':
            return state + 1;
        case 'DECREASE':
            return state - 1;
        default:
            return state;
    }

    return null;
}

function ChildCounter() {
    const dispatch = useContext(CounterDispatch);
    return (
        <>
            <button onClick={() => dispatch({type : 'INCREASE'})}>+</button>
            <button onClick={() => dispatch({type : 'DECREASE'})}>-</button>
        </>
    )
}

function Counter() {
    let [count, dispatch] = useReducer(reducer, 0);

    return (
        <CounterDispatch.Provider value={dispatch}>
            <>
                <input value={count} />
                <ChildCounter />
            </>
        </CounterDispatch.Provider>
    );
}

export default Counter;
{% endhighlight %}

## Syled Components
```javascript
const styled = (newElement) => {
	const el = document.createElement(newElement);
	return (args) => {
      el.style= args[0];
      console.log(args[0]);
      return el;
    }
};

var element = styled('h1')`
	border-radius : 10px;
	color:blue;
`;
console.log(element);
```